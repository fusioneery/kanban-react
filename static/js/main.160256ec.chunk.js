(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(49),o=n.n(c),i=n(5),s=n(9),u=n(8),l=n(6),f=n(7),d=(n(63),r.a.forwardRef(function(e,t){return r.a.createElement("footer",{ref:t,className:"footer"},r.a.createElement("p",{className:"copyright"}," ","Made with ",r.a.createElement("i",{className:"heart"},"\u2764")," by"," ",r.a.createElement("a",{href:"http://vladabramov.pro",className:"copyright__link link"},"Vlad Abramov")))})),m=n(14),h=n(15),p=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).ref=r.a.createRef(),e}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.setClientHeightAction(this.ref.current.clientHeight)}},{key:"render",value:function(){return r.a.createElement(d,{ref:this.ref})}}]),t}(a.Component),b=Object(m.b)(null,function(e){return{setClientHeightAction:function(t){return e(Object(h.b)(t))}}})(p),g=(n(68),n(51)),O=n.n(g),j=n(35),v=r.a.forwardRef(function(e,t){var n=e.hintVisible,a=e.hintText,c=Object(j.b)(n,null,{from:{opacity:0,transform:"translateY(10px)"},enter:{opacity:1,transform:"translateY(0px)"},leave:{opacity:0,transform:"translateY(10px)"}});return r.a.createElement("header",{ref:t,className:"header"},r.a.createElement("h1",{className:"header__title"},"Task Manager"),c.map(function(e){var t=e.item,n=(e.key,e.props);return t&&r.a.createElement(j.a.div,{style:n,className:"hint"},r.a.createElement("img",{src:O.a,alt:"hint",className:"hint__img"}),r.a.createElement("p",{className:"hint__text"},a))}))}),E=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).componentDidMount=function(){e.props.setHeightElementAction(e.ref.current.clientHeight)},e.ref=r.a.createRef(),e}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(v,{hintText:this.props.hintText,hintVisible:this.props.hintVisible,ref:this.ref})}}]),t}(a.Component),k=Object(m.b)(function(e){return{hintText:e.hintText,hintVisible:e.hint}},function(e){return{setHeightElementAction:function(t){return e(Object(h.b)(t))}}})(E),N=(n(69),r.a.forwardRef(function(e,t){var n=e.onAdd,a=e.onTaskNameChange,c=e.taskName;return r.a.createElement("div",{ref:t,className:"add"},r.a.createElement("p",{className:"add__desc"},"Add a new task"),r.a.createElement("div",{className:"add__container input-group"},r.a.createElement("input",{type:"text",onChange:a,value:c,className:"input",placeholder:"Task description"}),r.a.createElement("button",{onClick:n,className:"button button--submit"},"+ Add task")))})),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).handleTaskName=function(t){e.setState({taskName:t})},e.taskAdd=function(){e.props.taskAddAction(e.state.taskName),e.setState({taskName:""})},e.componentDidMount=function(){e.props.setHeightElementAction(e.ref.current.clientHeight)},e.state={taskName:""},e.ref=r.a.createRef(),e}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(N,{ref:this.ref,onTaskNameChange:function(t){return e.handleTaskName(t.target.value)},taskName:this.state.taskName,onAdd:function(){return e.taskAdd()}})}}]),t}(a.Component),w=Object(m.b)(null,function(e){return{taskAddAction:function(t){return e(Object(h.c)(t))},setHeightElementAction:function(t){return e(Object(h.b)(t))}}})(y),_=n(52),A=n.n(_),x=(n(70),n(29)),T=n(3),C=r.a.lazy(function(){return n.e(3).then(n.bind(null,121))}),S=function(e){switch(e){case T.a:return"Backlog";case T.d:return"In progress";case T.b:return"Done";default:return"Other"}};function H(e){var t=e.tasks,n=e.columnName,a=t.map(function(e,t){return r.a.createElement(r.a.Suspense,{key:e.id,fallback:r.a.createElement(A.a,null)},r.a.createElement(C,{index:t,id:e.id,name:e.name,desc:e.desc,track:n}))});return r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"col__heading"},S(n)),r.a.createElement(x.c,{droppableId:n},function(e){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{className:"col__cards cards"}),a,e.placeholder)}))}var I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(H,this.props)}}]),t}(a.Component),D=(n(105),r.a.forwardRef(function(e,t){var n=e.cols,a=Object.entries(n).map(function(e,t){var n=e[1];return r.a.createElement(I,{key:t,columnName:e[0],tasks:n})});return r.a.createElement("main",{ref:t,className:"columns"},a)})),R=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).componentDidMount=function(){setTimeout(function(){e.ref.current.style.minHeight=window.innerHeight-e.props.elemsHeight-80+"px"},1)},e.onDragEnd=function(t){var n=t.destination,a=t.source;null!==n&&(n.droppableId!==a.droppableId?e.props.taskChangeColumnAction(a.index,a.droppableId,n.index,n.droppableId):null!==a&&a.index!==n.index&&e.props.taskChangePositionAction(a.index,n.index,a.droppableId))},e.ref=r.a.createRef(),e}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{onDragEnd:this.onDragEnd},r.a.createElement(D,{ref:this.ref,cols:this.props.cols}))}}]),t}(a.Component),M=Object(m.b)(function(e){return{cols:e.cols,elemsHeight:e.elemsHeight}},function(e){return{taskChangePositionAction:function(t,n,a){return e(Object(h.e)(t,n,a))},taskChangeColumnAction:function(t,n,a,r){return e(Object(h.d)(t,n,a,r))}}})(R),P=(n(106),n(107),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(w,null),r.a.createElement(M,null),r.a.createElement(b,null))}}]),t}(a.Component)),B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var W=n(12),L=n(11),K=n(18),G=n(13),U=n(56),J=n.n(U),X=function(e,t,n){var a=Array.from(e),r=a[t];return a.splice(t,1),a.splice(n,0,r),a},Y=function(e,t,n,a,r){var c=Object(G.a)({},e),o=c[n][t];return c[n].splice(t,1),c[r].splice(a,0,o),c},z={cols:function(){var e=localStorage.getItem("kanban-react");if(null===e||void 0===e||"{}"===e||"undefined"===e){var t;console.log(T.a);var n=(t={},Object(L.a)(t,T.a,[]),Object(L.a)(t,T.d,[]),Object(L.a)(t,T.b,[]),t);return console.log("null",n),n}return JSON.parse(e)}(),error:null,elemsHeight:0,hint:!1,hintText:"dfgdfgfgdfgdfgdfgdfgdfgdfgdfgdfgdfgdgsfwewe43t45g"};var F=n(57),$=Object(W.c)(Object(W.a)(F.a),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||W.c),q=Object(W.d)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0,a=n.payload,r=n.type;switch(a&&a.columnName&&(e=a.columnName),r){case T.f:return Object(G.a)({},t,{cols:Object(G.a)({},t.cols,Object(L.a)({},T.a,[].concat(Object(K.a)(t.cols[T.a]),[{id:J.a.generate(),name:a,desc:""}])))});case T.j:return Object(G.a)({},t,{cols:Object(G.a)({},t.cols,Object(L.a)({},e,t.cols[e].filter(function(e){return e.id!==a.id})))});case T.i:var c=t.cols[e].findIndex(function(e){return e.id===a.task.id}),o=Array.from(t.cols[e]);return o[c]=Object(G.a)({},a.task),Object(G.a)({},t,{cols:Object(G.a)({},t.cols,Object(L.a)({},e,o))});case T.h:return Object(G.a)({},t,{cols:Object(G.a)({},t.cols,Object(L.a)({},e,X(t.cols[e],a.from,a.to)))});case T.g:return Object(G.a)({},t,{cols:Y(t.cols,a.fromIndex,a.fromBoard,a.toIndex,a.toBoard)});case T.c:return Object(G.a)({},t,{elemsHeight:t.elemsHeight+a});case T.e:return Object(G.a)({},t,{hint:!0,hintText:a});default:return t}},$);q.subscribe(function(){!function(e){var t=JSON.stringify(e);localStorage.setItem("kanban-react",t),console.log("saved",localStorage.getItem("kanban-react"))}(q.getState().cols)}),o.a.render(r.a.createElement(m.a,{store:q},r.a.createElement(P,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kanban-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/kanban-react","/service-worker.js");B?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):V(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):V(t,e)})}}()},15:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return u});var a=n(3);function r(e){return{type:a.f,payload:e}}function c(e,t){return{type:a.i,payload:{task:e,columnName:t}}}function o(e,t){return function(n){n(function(e,t){return{type:a.j,payload:{id:e,columnName:t}}}(e,t)),n({type:a.e,payload:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0431\u044b\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430."})}}function i(e,t,n){return{type:a.h,payload:{from:e,to:t,columnName:n}}}function s(e,t,n,r){return{type:a.g,payload:{fromIndex:e,fromBoard:t,toIndex:n,toBoard:r}}}function u(e){return{type:a.c,payload:e}}},3:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"j",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return d});var a="BACKLOG",r="IN_PROGRESS",c="DONE",o="TASK_ADD",i="TASK_EDIT",s="TASK_REMOVE",u="TASK_CHANGE_POS",l="TASK_CHANGE_COL",f="ELEM_HEIGHT_ADD",d="SHOW_HINT"},51:function(e,t,n){e.exports=n.p+"static/media/info.772356be.svg"},58:function(e,t,n){e.exports=n(116)},63:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){}},[[58,1,2]]]);
//# sourceMappingURL=main.160256ec.chunk.js.map